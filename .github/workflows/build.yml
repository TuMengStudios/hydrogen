name: Rust CI
on:
 push:
   branches:
     - main
 pull_request:
   branches:
     - main
jobs:
 build:
   name: Build and Test
   runs-on: ubuntu-latest
   steps:
     - name: Checkout repository
       uses: actions/checkout@v2
     - name: Setup Rust toolchain
       uses: actions-rs/toolchain@v1
       with:
         profile: minimal
         toolchain: stable
         override: true
     - name: Run cargo check
       run: cargo check
     - name: Run tests
       run: cargo test
